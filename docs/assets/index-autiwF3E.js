(function(){const c=document.createElement("link").relList;if(c&&c.supports&&c.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))d(e);new MutationObserver(e=>{for(const n of e)if(n.type==="childList")for(const t of n.addedNodes)t.tagName==="LINK"&&t.rel==="modulepreload"&&d(t)}).observe(document,{childList:!0,subtree:!0});function a(e){const n={};return e.integrity&&(n.integrity=e.integrity),e.referrerPolicy&&(n.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?n.credentials="include":e.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function d(e){if(e.ep)return;e.ep=!0;const n=a(e);fetch(e.href,n)}})();const h="modulepreload",g=function(l){return"/3dgs-web-viewer/"+l},m={},f=function(c,a,d){let e=Promise.resolve();if(a&&a.length>0){document.getElementsByTagName("link");const t=document.querySelector("meta[property=csp-nonce]"),i=t?.nonce||t?.getAttribute("nonce");e=Promise.allSettled(a.map(r=>{if(r=g(r),r in m)return;m[r]=!0;const o=r.endsWith(".css"),u=o?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${r}"]${u}`))return;const s=document.createElement("link");if(s.rel=o?"stylesheet":h,o||(s.as="script"),s.crossOrigin="",s.href=r,i&&s.setAttribute("nonce",i),document.head.appendChild(s),o)return new Promise((p,w)=>{s.addEventListener("load",p),s.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${r}`)))})}))}function n(t){const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=t,window.dispatchEvent(i),!i.defaultPrevented)throw t}return e.then(t=>{for(const i of t||[])i.status==="rejected"&&n(i.reason);return c().catch(n)})};async function E(){const l=document.getElementById("info"),c=await f(()=>import("https://cdn.jsdelivr.net/npm/three@0.178.0/build/three.module.js"),[]),a=await f(()=>import("https://cdn.jsdelivr.net/npm/three@0.178.0/examples/jsm/controls/OrbitControls.js"),[]),d=await f(()=>import("https://sparkjs.dev/releases/spark/0.1.10/spark.module.js"),[]),e=a.OrbitControls,n=d.SplatMesh,t=new c.WebGLRenderer({antialias:!1});t.setSize(window.innerWidth,window.innerHeight),t.setPixelRatio(Math.min(window.devicePixelRatio,1.5)),document.body.appendChild(t.domElement);const i=new c.Scene,r=new c.PerspectiveCamera(60,window.innerWidth/window.innerHeight,.1,1e3);r.position.set(3,-9,-7),r.up.set(0,-1,0),r.lookAt(1,-3.5,1);const o=new e(r,t.domElement);o.target.set(1,-3.5,1),o.enableDamping=!1,o.autoRotate=!1,o.enablePan=!0,o.minPolarAngle=0,o.maxPolarAngle=Math.PI,o.enableZoom=!0,o.update();try{console.log("ðŸš€ Sparkã‚¨ãƒ³ã‚¸ãƒ³ã®åˆæœŸåŒ–ã‚’é–‹å§‹...");const u="/3dgs-web-viewer/assets/splats/Taranis2_1.sog",s=new n({url:u,shDegree:3});i.add(s),l.innerText=`æ“ä½œæ–¹æ³•
â˜ï¸1æœ¬æŒ‡ï¼šå›žè»¢
ðŸ‘†ï¸2æœ¬æŒ‡ï¼šã‚ºãƒ¼ãƒ `,console.log("âœ… Success: Model attached to scene"),t.setAnimationLoop(()=>{o.update(),t.render(i,r)})}catch(u){l.innerText="âŒ ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚",console.error("Fatal Error:",u)}window.addEventListener("resize",()=>{r.aspect=window.innerWidth/window.innerHeight,r.updateProjectionMatrix(),t.setSize(window.innerWidth,window.innerHeight)})}E();
